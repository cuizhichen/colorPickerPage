(function(o){function t(t){for(var e,i,s=t[0],c=t[1],l=t[2],h=0,f=[];h<s.length;h++)i=s[h],r[i]&&f.push(r[i][0]),r[i]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(o[e]=c[e]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var o,t=0;t<a.length;t++){for(var n=a[t],e=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(e=!1)}e&&(a.splice(t--,1),o=i(i.s=n[0]))}return o}var e={},r={app:0},a=[];function i(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=o,i.c=e,i.d=function(o,t,n){i.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:n})},i.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,t){if(1&t&&(o=i(o)),8&t)return o;if(4&t&&"object"===typeof o&&o&&o.__esModule)return o;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var e in o)i.d(n,e,function(t){return o[t]}.bind(null,e));return n},i.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return i.d(t,"a",t),t},i.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(o,t,n){o.exports=n("56d7")},"07fd":function(o,t,n){},"2c23":function(o,t,n){"use strict";var e=n("5bce"),r=n.n(e);r.a},"56d7":function(o,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var e=n("2b0e"),r=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{attrs:{id:"app"}},[n("button",{on:{click:function(t){o.show=!o.show}}},[o._v(o._s(o.show?"隐藏":"显示"))]),n("button",{on:{click:o.switchFormat}},[o._v("切换颜色格式")]),n("div",{staticClass:"current-color"},[o._v("当前颜色："+o._s(o.color))]),n("ck-color-picker",{attrs:{"color-format":o.format,show:o.show},on:{"update:show":function(t){o.show=t}},model:{value:o.color,callback:function(t){o.color=t},expression:"color"}})],1)},a=[],i=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("transition",{attrs:{name:"colorPicker"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:o.show,expression:"show"}],ref:"colorPicker",staticClass:"color-picker"},[n("div",{staticClass:"color-picker-inner"},[n("div",{staticClass:"color-picker-up"},[n("color-panel",{ref:"colorPanel",attrs:{bgColor:o.bgColor,showColor:o.showColor}}),n("color-sidebar",{ref:"colorSidebar",attrs:{bgColor:o.bgColor},on:{"update:bgColor":function(t){o.bgColor=t},"update:bg-color":function(t){o.bgColor=t},changeShow:o.changeShow}})],1),n("color-opacity",{attrs:{showColor:o.showColor}}),n("color-select",{attrs:{showColor:o.showColor,calcBg:o.calcBg}}),n("div",{staticClass:"color-picker-down"},[n("div",{staticClass:"color-number"},[n("input",{attrs:{type:"text"},domProps:{value:o.colorToRgba},on:{change:o.onChange}})]),n("div",{staticClass:"color-random",on:{click:o.colorRandom}},[o._v("随机")]),n("div",{staticClass:"color-confirm",on:{click:function(t){return o.$emit("update:show",!1)}}},[o._v("确定")])])],1)])])},s=[],c=(n("7f7f"),n("ac6a"),n("55dd"),n("6b54"),n("28a5"),n("a481"),function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{ref:"panelBg",staticClass:"color-panel",style:{background:o.background},on:{mousedown:function(t){return t.stopPropagation(),o.bgClick(t)}}},[n("div",{staticClass:"panel-bg-white"}),n("div",{staticClass:"panel-bg-black"}),n("div",{staticClass:"panel-thumb",style:o.thumbPosition,on:{mousedown:function(t){return t.stopPropagation(),o.onMousedown(t)}}})])}),l=[],u={props:{bgColor:{type:Object,default:function(){}},showColor:{type:Object,default:function(){}}},data:function(){return{thumbPosition:{left:"0px",top:"0px"},panelBgInfo:{}}},computed:{background:function(){var o=this.bgColor,t=o.r,n=o.g,e=o.b,r=o.a;return"rgba(".concat(t,", ").concat(n,", ").concat(e,", ").concat(r,")")}},mounted:function(){this.calcXY()},methods:{calcXY:function(){var o=this.$refs.panelBg.getBoundingClientRect(),t=o.left,n=o.top,e=o.width,r=o.height;this.panelBgInfo={l:t,t:n,w:e,h:r};var a=this.showColor,i=a.r,s=a.g,c=a.b,l=Math.max(i,s,c),u=Math.min(i,s,c),h=u/l*e,f=r-l/255*r;this.thumbPosition.left=e-h+"px",this.thumbPosition.top=f+"px"},onMousedown:function(){var o=this,t=this.panelBgInfo,n=t.l,e=t.t,r=t.w,a=t.h;document.onmousemove=function(t){var i=t.pageX,s=t.pageY,c=i-n,l=s-e;c<=0&&(c=0),c>=r&&(c=r),l<=0&&(l=0),l>=a&&(l=a),o.thumbPosition={left:c+"px",top:l+"px"};var u=r-c,h=l;o.calcWidthColor(u,h)},document.onmouseup=function(o){document.onmousemove=null,document.onmouseup=null}},changeShowColor:function(){var o=this.panelBgInfo,t=(o.l,o.t,o.w),n=o.h,e=this.thumbPosition,r=e.left,a=e.top;r=parseInt(r.substr(0,r.length-2)),a=parseInt(a.substr(0,a.length-2));var i=t-r,s=a;this.calcWidthColor(i,s,t,n)},calcWidthColor:function(o,t){var n=this.panelBgInfo,e=n.w,r=n.h,a=JSON.parse(JSON.stringify(this.bgColor));for(var i in delete a.a,a){var s=a[i],c=((255-s)*o+s*e)/e;a[i]=c}this.calcHeightColor(o,t,e,r,a)},calcHeightColor:function(o,t,n,e,r){for(var a in r){var i=r[a],s=(e-t)*i/e,c=parseInt(s);this.showColor[a]=c}},bgClick:function(o){if("panel-thumb"!==o.target.className){var t=o.offsetX,n=o.offsetY,e=this.panelBgInfo.w;this.thumbPosition={left:t+"px",top:n+"px"};var r=e-t,a=n;this.calcWidthColor(r,a),this.onMousedown()}}}},h=u,f=(n("c616"),n("2877")),g=Object(f["a"])(h,c,l,!1,null,null,null),p=g.exports,d=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{staticClass:"color-sidebar"},[n("div",{ref:"sideBarBg",staticClass:"side-bar-bg",on:{mousedown:o.barClick}}),n("div",{staticClass:"side-bar-thumb",style:o.thumbPosition,on:{mousedown:o.onMousedown}})])},b=[],v={props:{bgColor:{type:Object,default:function(){}}},data:function(){return{thumbPosition:{top:"0px"},sideBarHeight:null}},mounted:function(){this.sideBarHeight=this.$refs.sideBarBg.getBoundingClientRect().height},methods:{onMousedown:function(){var o=this,t=this.$refs.sideBarBg.getBoundingClientRect(),n=t.top,e=t.height;document.onmousemove=function(t){var r=t.pageY-n;r>=e&&(r=e),r<=0&&(r=0),o.changeBg(r,e)},document.onmouseup=function(o){document.onmousemove=null,document.onmouseup=null}},changeBg:function(o,t){this.thumbPosition.top=o+"px";var n=t/6;if(o<=1*t/6){var e=this.getValue(o,n,0);this.setColor(255,e,0)}else if(o<=2*t/6){var r=this.getValue(o,n,1);this.setColor(255-r,255,0)}else if(o<=3*t/6){var a=this.getValue(o,n,2);this.setColor(0,255,a)}else if(o<=4*t/6){var i=this.getValue(o,n,3);this.setColor(0,255-i,255)}else if(o<5*t/6){var s=this.getValue(o,n,4);this.setColor(s,0,255)}else if(o<=6*t/6){var c=this.getValue(o,n,5);this.setColor(255,0,255-c)}this.$emit("changeShow")},barClick:function(o){var t=this.sideBarHeight,n=o.offsetY;this.changeBg(n,t),this.onMousedown()},getValue:function(o,t,n){var e=(o-t*n)/t*255,r=parseInt(e);return r},setColor:function(o,t,n){this.bgColor.r=o,this.bgColor.g=t,this.bgColor.b=n},calcTop:function(){var o=this.bgColor,t=o.r,n=o.g,e=o.b,r=this.sideBarHeight,a=0,i=r/6;255===t&&0===e&&(a=n/255*i),255===n&&0===e&&(a=(t/255+1)*i),255===n&&0===t&&(a=(e/255+2)*i),255===e&&0===t&&(a=(n/255+3)*i),255===e&&0===n&&(a=(t/255+4)*i),255===t&&0===n&&(a=(e/255+5)*i),this.thumbPosition.top=a+"px"}}},m=v,C=(n("b71c"),Object(f["a"])(m,d,b,!1,null,null,null)),w=C.exports,x=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{staticClass:"color-opacity"},[n("div",{ref:"opacityBar",staticClass:"color-opacity-bar",style:o.background,on:{mousedown:o.barClick}}),n("div",{staticClass:"color-opacity-thumb",style:o.thumbPosition,on:{mousedown:o.onMousedown}})])},y=[],B={props:{showColor:{type:Object,default:function(){}}},data:function(){return{thumbPosition:{left:"0px"},barInfo:{}}},computed:{background:function(){var o=this.showColor,t=o.r,n=o.g,e=o.b,r="rgba(".concat(t,",").concat(n,",").concat(e,",0)"),a="rgba(".concat(t,",").concat(n,",").concat(e,")");return{background:"linear-gradient(to right, ".concat(r," 0%, ").concat(a," 100%)")}}},watch:{showColor:{handler:function(){this.calcOpacity()},deep:!0}},mounted:function(){this.calcOpacity()},methods:{calcOpacity:function(){var o=this.$refs.opacityBar.getBoundingClientRect(),t=o.left,n=o.width;this.barInfo={l:t,w:n};var e=this.thumbPosition.left;e=parseInt(e.substr(0,e.length-2)),this.thumbPosition.left=n*this.showColor.a+"px"},barClick:function(o){var t=this.barInfo,n=(t.l,t.w);this.thumbPosition.left=o.offsetX+"px";var e=(o.offsetX/n).toFixed(2);1==e&&(e=1),this.showColor.a=e,this.onMousedown()},onMousedown:function(){var o=this,t=this.barInfo,n=t.l,e=t.w;document.onmousemove=function(t){var r=t.pageX-n;r>=e&&(r=e),r<=0&&(r=0),o.thumbPosition.l=r+"px";var a=(r/e).toFixed(2);1==a&&(a=1),o.showColor.a=a},document.onmouseup=function(o){document.onmousemove=null,document.onmouseup=null}}}},k=B,P=(n("2c23"),Object(f["a"])(k,x,y,!1,null,null,null)),O=P.exports,_=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{staticClass:"color-select"},o._l(o.list,function(t,e){return n("div",{key:e,staticClass:"color-select-item",class:{bgImage:t.a<1},on:{click:function(n){return o.selectColor(t)}}},[n("div",{staticClass:"inner-item",style:{background:o.toBg(t)}})])}),0)},$=[],I={props:{showColor:{type:Object,default:function(){}},calcBg:{type:Function}},data:function(){return{list:[{r:255,g:69,b:0,a:1},{r:255,g:140,b:0,a:1},{r:255,g:214,b:0,a:1},{r:144,g:238,b:144,a:1},{r:0,g:206,b:209,a:1},{r:30,g:144,b:255,a:1},{r:199,g:21,b:133,a:1},{r:255,g:69,b:0,a:.58},{r:255,g:120,b:0,a:1},{r:250,g:212,b:0,a:1},{r:144,g:240,b:144,a:.5},{r:0,g:186,b:189,a:1},{r:31,g:147,b:255,a:.73},{r:255,g:0,b:0,a:1}]}},methods:{toBg:function(o){var t=o.r,n=o.g,e=o.b,r=o.a;return"rgba(".concat(t,",").concat(n,",").concat(e,",").concat(r,")")},selectColor:function(o){for(var t in o)this.showColor[t]=o[t];this.calcBg()}}},S=I,j=(n("f158"),Object(f["a"])(S,_,$,!1,null,null,null)),M=j.exports,R={components:{ColorPanel:p,ColorSidebar:w,ColorOpacity:O,ColorSelect:M},model:{prop:"value",event:"change"},props:{value:{type:String,default:"#c83aaa"},show:{type:Boolean,default:!0},colorFormat:{type:String,default:"hex"}},data:function(){return{bgColor:{r:null,g:null,b:null,a:1},showColor:{r:null,g:null,b:null,a:null},once:!0}},computed:{colorToRgba:function(){if(null!==this.showColor.r){if("hex"===this.colorFormat)var o=this.RgbToHex();else{var t=this.showColor,n=t.r,e=t.g,r=t.b,a=t.a;o="rgba(".concat(n,",").concat(e,",").concat(r,",").concat(a,")")}return o=o.replace(/\s+/g,""),this.value!==o&&this.$emit("change",o),o}}},watch:{showColor:{handler:function(){if(this.once)this.once=!1;else{if("hex"===this.colorFormat)var o=this.RgbToHex();else{var t=this.showColor,n=t.r,e=t.g,r=t.b,a=t.a;o="rgba(".concat(n,",").concat(e,",").concat(r,",").concat(a,")")}this.$emit("change",o)}},deep:!0}},mounted:function(){var o=this.$refs.colorPicker.scrollHeight;this.$refs.colorPicker.style.setProperty("--size",o+"px"),this.onChange()},methods:{onChange:function(o){var t=o?o.target.value:this.value;if(t=t.replace(/\s+/g,""),"#"===t[0])var n=this.HexToRgb(t);else{t=t.replace(/[a-zA-Z\(\)]/g,"");n=t.split(",")}!n||3!==n.length&&4!==n.length?console.error("数值输入错误"):(this.showColor.r=this.calcColorNumber(n[0]),this.showColor.g=this.calcColorNumber(n[1]),this.showColor.b=this.calcColorNumber(n[2]),this.showColor.a=n[3]||1,this.calcBg())},HexToRgb:function(o){var t=o.substring(1,o.length);if((3===t.length||6===t.length)&&!/[^0-9a-f]/g.test(t)){if(3===t.length){var n=t.replace(/\w(?=(\w{1})+$)/g,"$&,"),e=n.split(/,/g);e=e.map(function(o){return parseInt(o+o,16)})}else{var r=t.replace(/\w(?=(\w{2})+$)/g,"$&,");e=r.split(/,/g);e=e.map(function(o){return parseInt(o,16)})}return e}},RgbToHex:function(){var o="#";for(var t in this.showColor)if("a"!==t){if(null===this.showColor[t])return;o+=this.showColor[t].toString(16)}return o},calcColorNumber:function(o){return o>255&&(o=255),o<0&&(o=0),o},calcBg:function(){var o=this,t=this.showColor,n=t.r,e=t.g,r=t.b,a=[{name:"r",value:n},{name:"g",value:e},{name:"b",value:r}];a.sort(function(o,t){return t.value-o.value});var i=a[0].value,s=a[1].value,c=a[2].value;a[1].value=(c-s)*i/(c-i),a[2].value=0,a[0].value=255,a[1].value=parseInt(255*a[1].value/i),a.forEach(function(t){o.bgColor[t.name]=t.value}),this.$refs.colorPanel.calcXY(),this.$refs.colorSidebar.calcTop()},changeShow:function(){this.$refs.colorPanel.changeShowColor()},colorRandom:function(){for(var o in this.showColor)this.showColor[o]=parseInt(255*Math.random()),"a"===o&&(this.showColor[o]=1);this.calcBg()}}},H=R,T=(n("b0e0"),Object(f["a"])(H,i,s,!1,null,null,null)),F=T.exports,N={name:"app",components:{CkColorPicker:F},data:function(){return{color:"#c83aaa",show:!0,format:"hex"}},methods:{switchFormat:function(){this.format="hex"===this.format?"rgb":"hex"}}},X=N,E=(n("7faf"),Object(f["a"])(X,r,a,!1,null,null,null)),V=E.exports;e["a"].config.productionTip=!1,new e["a"]({render:function(o){return o(V)}}).$mount("#app")},"5bce":function(o,t,n){},"7faf":function(o,t,n){"use strict";var e=n("8fba"),r=n.n(e);r.a},"8fba":function(o,t,n){},b0e0:function(o,t,n){"use strict";var e=n("fb6f"),r=n.n(e);r.a},b71c:function(o,t,n){"use strict";var e=n("e81d"),r=n.n(e);r.a},c616:function(o,t,n){"use strict";var e=n("07fd"),r=n.n(e);r.a},d686:function(o,t,n){},e81d:function(o,t,n){},f158:function(o,t,n){"use strict";var e=n("d686"),r=n.n(e);r.a},fb6f:function(o,t,n){}});
//# sourceMappingURL=app.a6b4f008.js.map